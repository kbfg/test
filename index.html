<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Jay's English Hub</title>
    <link rel="manifest" href="manifest.json">
    <style>
        /* Jayë¥¼ ìœ„í•œ ì„¸ë ¨ëœ ë””ìì¸ */
        :root {
            --primary: #2C3E50;
            --accent: #E74C3C; 
            --bg: #F0F2F5;
            --card-bg: #FFFFFF;
        }
        body {
            margin: 0;
            background-color: var(--bg);
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            height: 100vh;
            overflow: hidden;
        }

        /* ìƒë‹¨ ì¹´í…Œê³ ë¦¬ íƒ­ (ìŠ¤í¬ë¡¤ ê°€ëŠ¥í•˜ê²Œ ìˆ˜ì •) */
        .tabs-container {
            width: 100%;
            background: white;
            padding: 10px 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        .tabs {
            display: flex;
            gap: 8px;
            overflow-x: auto;
            padding: 0 15px;
            scrollbar-width: none; /* ìŠ¤í¬ë¡¤ë°” ìˆ¨ê¹€ */
        }
        .tabs::-webkit-scrollbar { display: none; }
        
        .tab-btn {
            border: none;
            background: #f1f3f5;
            padding: 8px 14px;
            border-radius: 20px;
            font-weight: 600;
            color: #666;
            cursor: pointer;
            white-space: nowrap; /* ì¤„ë°”ê¿ˆ ë°©ì§€ */
            transition: 0.2s;
            font-size: 14px;
        }
        .tab-btn.active {
            background-color: var(--primary);
            color: white;
            box-shadow: 0 4px 6px rgba(44, 62, 80, 0.2);
        }

        /* ë©”ì¸ ì¹´ë“œ ì˜ì—­ */
        .container {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            width: 88%;
            max-width: 400px;
        }
        .card {
            background: var(--card-bg);
            border-radius: 25px;
            padding: 30px;
            min-height: 280px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
            position: relative;
            cursor: pointer;
            transition: transform 0.1s;
        }
        .card:active { transform: scale(0.98); }
        
        .category-label {
            position: absolute;
            top: 20px;
            left: 20px;
            font-size: 12px;
            background: #eee;
            padding: 4px 10px;
            border-radius: 10px;
            color: #555;
            font-weight: bold;
            text-transform: uppercase;
        }
        .english {
            font-size: 24px;
            font-weight: 700;
            color: #2c3e50;
            line-height: 1.4;
            margin-bottom: 25px;
            word-break: keep-all;
        }
        .korean {
            font-size: 16px;
            color: var(--accent);
            font-weight: 500;
            display: none; 
            margin-top: 20px;
            border-top: 1px dashed #ddd;
            padding-top: 15px;
            width: 100%;
        }

        /* ì»¨íŠ¸ë¡¤ ë²„íŠ¼ */
        .controls {
            display: flex;
            gap: 15px;
            margin-top: 30px;
            justify-content: center;
        }
        .circle-btn {
            width: 55px;
            height: 55px;
            border-radius: 50%;
            border: none;
            font-size: 22px;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: 0.2s;
            background: white;
        }
        .btn-speak { color: #3498DB; border: 2px solid #3498DB; }
        .btn-speak:active { background: #3498DB; color: white; }
        
        .btn-next { background: var(--primary); color: white; }
        .btn-next:active { background: #1a252f; }
        
        .btn-shuffle { color: #F1C40F; border: 2px solid #F1C40F; }
        .btn-shuffle.active { background: #F1C40F; color: white; }

        .guide { margin-top: 20px; font-size: 13px; color: #aaa; }
    </style>
</head>
<body>

    <div class="tabs-container">
        <div class="tabs">
            <button class="tab-btn active" onclick="setCategory('all')">All</button>
            <button class="tab-btn" onclick="setCategory('soccer')">Soccer âš½ï¸</button>
            <button class="tab-btn" onclick="setCategory('bike')">Cycling ğŸš´</button>
            <button class="tab-btn" onclick="setCategory('hockey')">Hockey ğŸ’</button>
            <button class="tab-btn" onclick="setCategory('game')">Game & Pop ğŸ®</button>
            <button class="tab-btn" onclick="setCategory('life')">My Life ğŸ‡¨ğŸ‡¦</button>
        </div>
    </div>

    <div class="container">
        <div class="card" onclick="toggleAnswer()">
            <div id="catLabel" class="category-label">Welcome</div>
            <div id="englishText" class="english">Hey Jay! Ready to level up your English?</div>
            <div id="koreanText" class="korean">ì¤€ë¹„ëì–´? í„°ì¹˜í•´ì„œ ì •ë‹µ í™•ì¸!</div>
        </div>

        <div class="controls">
            <button class="circle-btn btn-shuffle" onclick="toggleShuffle()">ğŸ”€</button>
            <button class="circle-btn btn-speak" onclick="speakText()">ğŸ”Š</button>
            <button class="circle-btn btn-next" onclick="nextCard()">â¡ï¸</button>
        </div>
        <p class="guide" id="progressText">Let's start!</p>
    </div>

    <script>
        // ==========================================
        // âœï¸ Jay ë§ì¶¤í˜• ê³ í€„ë¦¬í‹° ë°ì´í„° (ì•½ 30ê°œ)
        // ==========================================
        const allData = [
            // [SOCCER] - ì „ìˆ , ìƒí™© ë¬˜ì‚¬, ì†í¥ë¯¼
            { cat: 'soccer', en: "Sonny's curling shot was absolutely world-class.", ko: "ì†í¥ë¯¼ì˜ ê°ì•„ì°¨ê¸° ìŠ›ì€ ì •ë§ ì›”ë“œí´ë˜ìŠ¤ì˜€ì–´." },
            { cat: 'soccer', en: "The defense crumbled under pressure in the second half.", ko: "í›„ë°˜ì „ì— ì••ë°•ì„ ë°›ì ìˆ˜ë¹„ê°€ ë¬´ë„ˆì¡Œì–´." },
            { cat: 'soccer', en: "He has incredible positioning inside the box.", ko: "ê·¸ëŠ” í˜ë„í‹° ë°•ìŠ¤ ì•ˆì—ì„œ ìœ„ì¹˜ ì„ ì •ì´ ì—„ì²­ë‚˜." },
            { cat: 'soccer', en: "That counter-attack strategy was flawless.", ko: "ê·¸ ì—­ìŠµ ì „ëµì€ ì •ë§ ì™„ë²½í–ˆì–´." },
            { cat: 'soccer', en: "Did you see that nutmeg? It was totally humiliating!", ko: "ë°©ê¸ˆ ì•Œê¹Œê¸° ë´¤ì–´? ì§„ì§œ êµ´ìš•ì ì´ë”ë¼!" },
            { cat: 'soccer', en: "I think the referee made a controversial call.", ko: "ì‹¬íŒ íŒì •ì´ ì¢€ ë…¼ë€ì˜ ì—¬ì§€ê°€ ìˆì—ˆë˜ ê²ƒ ê°™ì•„." },

            // [CYCLING] - ì¥ë¹„, ê¸°ìˆ , ë¬¼ë¦¬ì  ì›ë¦¬
            { cat: 'bike', en: "Aerodynamics matter more than weight on flat roads.", ko: "í‰ì§€ì—ì„œëŠ” ë¬´ê²Œë³´ë‹¤ ê³µê¸°ì—­í•™ì´ ë” ì¤‘ìš”í•´." },
            { cat: 'bike', en: "You need to shift gears smoothly before hitting the climb.", ko: "ì˜¤ë¥´ë§‰ ì‹œì‘í•˜ê¸° ì „ì— ê¸°ì–´ë¥¼ ë¶€ë“œëŸ½ê²Œ ë°”ê¿”ì•¼ í•´." },
            { cat: 'bike', en: "Carbon fiber frames absorb road vibration better.", ko: "ì¹´ë³¸ í”„ë ˆì„ì´ ë…¸ë©´ ì§„ë™ì„ ë” ì˜ í¡ìˆ˜í•´." },
            { cat: 'bike', en: "Drafting behind the leader saves so much energy.", ko: "ì„ ë‘ ë’¤ì— ë¶™ì–´ì„œ(í”¼ë¹ ëŠ” ê²ƒ) ê°€ë©´ ì—ë„ˆì§€ê°€ ì—„ì²­ ì ˆì•½ë¼." },
            { cat: 'bike', en: "Check your cadence! Keep it around 90 RPM.", ko: "ì¼€ì´ë˜ìŠ¤(í˜ë‹¬ íšŒì „ìˆ˜) ì²´í¬í•´! 90 ì •ë„ë¡œ ìœ ì§€í•´ë´." },
            { cat: 'bike', en: "I need to calibrate my power meter.", ko: "ë‚˜ íŒŒì›Œë¯¸í„° 0ì  ì¡°ì ˆ(ë³´ì •) ì¢€ í•´ì•¼ í•´." },

            // [HOCKEY] - ìŠ¤í”¼ë“œ, ê·œì¹™, NHL
            { cat: 'hockey', en: "The goalie made a massive save on that breakaway.", ko: "ê³¨ë¦¬ê°€ ê·¸ ë‹¨ë… ì°¬ìŠ¤(ë¸Œë ˆì´í¬ì–´ì›¨ì´)ë¥¼ ì—„ì²­ë‚˜ê²Œ ë§‰ì•„ëƒˆì–´." },
            { cat: 'hockey', en: "Keep your head up when you stickhandle.", ko: "í½ì„ ë‹¤ë£° ë•ŒëŠ” ê³ ê°œë¥¼ ë“¤ê³  ìˆì–´ì•¼ì§€." },
            { cat: 'hockey', en: "Checking is part of the game, but that was a penalty.", ko: "ëª¸ì‹¸ì›€(ì²´í‚¹)ë„ ê²½ê¸°ì˜ ì¼ë¶€ì§€ë§Œ, ë°©ê¸ˆ ê±´ ë°˜ì¹™ì´ì•¼." },
            { cat: 'hockey', en: "He scored a hat-trick in the third period!", ko: "3í”¼ë¦¬ì–´ë“œì— í•´íŠ¸íŠ¸ë¦­ì„ ê¸°ë¡í–ˆì–´!" },
            { cat: 'hockey', en: "The ice surface looks a bit rough today.", ko: "ì˜¤ëŠ˜ ë¹™ì§ˆì´ ì¢€ ê±°ì¹ ì–´ ë³´ì´ë„¤." },

            // [GAME & POP] - ë§ˆì¸í¬ë˜í”„íŠ¸, ë¡¤ë¸”ë¡ìŠ¤, íŒì†¡, ìœ íŠœë¸Œ
            { cat: 'game', en: "The graphics in the new update are next-level.", ko: "ì´ë²ˆ ìƒˆ ì—…ë°ì´íŠ¸ ê·¸ë˜í”½ ì§„ì§œ ì°¨ì›ì´ ë‹¬ë¼." },
            { cat: 'game', en: "I need to craft a diamond pickaxe first.", ko: "ì¼ë‹¨ ë‹¤ì´ì•„ëª¬ë“œ ê³¡ê´­ì´ë¶€í„° ë§Œë“¤ì–´ì•¼ í•´." },
            { cat: 'game', en: "Wait, the server is lagging so bad.", ko: "ì ê¹ë§Œ, ì„œë²„ ë ‰ì´ ë„ˆë¬´ ì‹¬í•´." },
            { cat: 'game', en: "The lyrics of this song are full of metaphors.", ko: "ì´ ë…¸ë˜ ê°€ì‚¬ëŠ” ì€ìœ ì  í‘œí˜„ìœ¼ë¡œ ê°€ë“ ì°¨ ìˆì–´." },
            { cat: 'game', en: "That YouTuber has over a million subscribers.", ko: "ì € ìœ íŠœë²„ êµ¬ë…ìê°€ ë°±ë§Œ ëª…ì´ ë„˜ë”ë¼." },

            // [LIFE & CANADA] - ìœ í•™ ê¸°ì–µ, ì˜ê²¬ ë§í•˜ê¸°, í•™êµ
            { cat: 'life', en: "I honestly miss the snowy recess times in Canada.", ko: "ì†”ì§íˆ ìºë‚˜ë‹¤ì—ì„œ ëˆˆ ì˜¬ ë•Œ ì‰¬ëŠ” ì‹œê°„(Recess)ì´ ê·¸ë¦¬ì›Œ." },
            { cat: 'life', en: "Itâ€™s not just about grades, itâ€™s about creativity.", ko: "ë‹¨ìˆœíˆ ì„±ì ì´ ì¤‘ìš”í•œ ê²Œ ì•„ë‹ˆë¼, ì°½ì˜ì„±ì´ ì¤‘ìš”í•œ ê±°ì•¼." },
            { cat: 'life', en: "Can we call it a day? I'm exhausted.", ko: "ì˜¤ëŠ˜ ì´ë§Œ ë§ˆì¹ ê¹Œ? ë‚˜ ì™„ì „ ì§€ì³¤ì–´." },
            { cat: 'life', en: "I'd rather play sports than study math right now.", ko: "ì§€ê¸ˆì€ ìˆ˜í•™ ê³µë¶€í•˜ëŠë‹ˆ ì°¨ë¼ë¦¬ ìš´ë™ì„ í•˜ê³  ì‹¶ì–´." },
            { cat: 'life', en: "Whatâ€™s the Wi-Fi password here?", ko: "ì—¬ê¸° ì™€ì´íŒŒì´ ë¹„ë°€ë²ˆí˜¸ê°€ ë­ì˜ˆìš”?" },
            { cat: 'life', en: "Let's hang out at the mall after school.", ko: "ë°©ê³¼ í›„ì— ì‡¼í•‘ëª° ê°€ì„œ ë†€ì." }
        ];

        // ==========================================
        // âš™ï¸ ì•± ì‘ë™ ë¡œì§
        // ==========================================
        let currentList = [...allData];
        let currentIndex = 0;
        let isShuffle = false;

        const enEl = document.getElementById('englishText');
        const koEl = document.getElementById('koreanText');
        const catEl = document.getElementById('catLabel');
        const progressEl = document.getElementById('progressText');

        function showCard() {
            if (currentList.length === 0) return;
            if (currentIndex >= currentList.length) currentIndex = 0;

            const data = currentList[currentIndex];
            enEl.textContent = data.en;
            koEl.textContent = data.ko;
            
            // ì¹´í…Œê³ ë¦¬ ë¼ë²¨
            catEl.textContent = data.cat.toUpperCase();
            
            // ë°°ê²½ìƒ‰ ì‚´ì§ ë³€ê²½ (ì¹´í…Œê³ ë¦¬ë³„ ëŠë‚Œ)
            let color = '#555';
            if(data.cat === 'soccer') color = '#27ae60'; // Green
            if(data.cat === 'bike') color = '#e67e22'; // Orange
            if(data.cat === 'hockey') color = '#2980b9'; // Blue
            if(data.cat === 'game') color = '#9b59b6'; // Purple
            catEl.style.color = color;
            catEl.style.border = `1px solid ${color}`;
            catEl.style.background = '#fff';

            koEl.style.display = 'none';
            updateProgress();
        }

        function toggleAnswer() {
            koEl.style.display = (koEl.style.display === 'none') ? 'block' : 'none';
        }

        function nextCard() {
            if (isShuffle) {
                let nextIndex = Math.floor(Math.random() * currentList.length);
                // ê°™ì€ ì¹´ë“œ ì—°ì† ë°©ì§€
                while(currentList.length > 1 && nextIndex === currentIndex) {
                    nextIndex = Math.floor(Math.random() * currentList.length);
                }
                currentIndex = nextIndex;
            } else {
                currentIndex++;
            }
            showCard();
        }

        function speakText() {
            // ë§í•˜ê³  ìˆì„ ë•Œ ë˜ ëˆ„ë¥´ë©´ ì·¨ì†Œ
            if(window.speechSynthesis.speaking) {
                window.speechSynthesis.cancel();
                return;
            }
            const text = enEl.textContent;
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'en-US'; // ë¯¸êµ­ì‹ ë°œìŒ
            utterance.rate = 0.85; // Jayê°€ ë“£ê¸° ì¢‹ê²Œ ì•½ê°„ ì¹¨ì°©í•œ ì†ë„
            utterance.pitch = 1;
            window.speechSynthesis.speak(utterance);
        }

        function setCategory(cat) {
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            if (cat === 'all') {
                currentList = [...allData];
            } else {
                currentList = allData.filter(item => item.cat === cat);
            }
            currentIndex = 0;
            showCard();
        }

        function toggleShuffle() {
            isShuffle = !isShuffle;
            const btn = document.querySelector('.btn-shuffle');
            if (isShuffle) {
                btn.classList.add('active');
                btn.style.background = '#F1C40F';
                btn.style.color = 'white';
            } else {
                btn.classList.remove('active');
                btn.style.background = 'white';
                btn.style.color = '#F1C40F';
            }
        }

        function updateProgress() {
            progressEl.textContent = `${currentIndex + 1} / ${currentList.length}`;
        }

        // ì´ˆê¸° ì‹œì‘
        showCard();

        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js');
        }
    </script>
</body>
</html>
